<!DOCTYPE html>
<html lang="ko" >
	<head>
		<title> :  : </title>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=1000px, initial-scale=0.5, user-scalable=yes, maximum-scale=1.0, minimum-scale=0">
		<meta name="format-detection" content="telephone=no">
		<link rel="stylesheet" type="text/css" href="../../css/common.css" />
		<link rel="stylesheet" type="text/css" href="../../css/slick-theme.css" />
		<link rel="stylesheet" type="text/css" href="../../css/slick.css" />
		<script type="text/javascript" src="../../js/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="../../js/jquery.easing.1.3.min.js"></script>
		<script type="text/javascript" src="../../js/TweenMax.min.js"></script>
		<script type="text/javascript" src="../../js/slick.js"></script>

		<!--  ** start : codemirror ** -->
		<link rel="stylesheet" href="http://codemirror.net/lib/codemirror.css">
		<script type="text/javascript" src="http://codemirror.net/lib/codemirror.js"></script>
		<script type="text/javascript" src="http://codemirror.net/mode/javascript/javascript.js"></script>
		<script type="text/javascript" src="http://codemirror.net/addon/selection/active-line.js"></script>
		<script type="text/javascript" src="http://codemirror.net/mode/xml/xml.js"></script>
		<script type="text/javascript" src="http://codemirror.net/addon/edit/matchbrackets.js"></script>
		<script type="text/javascript" src="http://codemirror.net/mode/htmlmixed/htmlmixed.js"></script>
		<!--  ** end : codemirror ** -->

		<!--[if lt IE 9]><script src="../js/respond.min.js"></script><![endif]-->
		<!--[if lt IE 9]><script src="../js/html5shiv.js"></script><![endif]-->
		<!--[if IE 7]>
			<link rel="stylesheet" type="text/css" href="../css/ie7.css" media="all" />
		<![endif]-->
<style type="text/css">
/* layout */
html,body{width:100%; height:100%;}
#wrap{width:100%; height:100%; position:relative; z-index:10;}
#header{width:100%;}
#visual{width:100%; height:100%; background-color: #111; }
#contents{width:100%;}
#footer{width:100%;}
.in_Layer{width:1000px; margin:0 auto; }

#skip{}
#skip a{display:block; position:absolute; top:0; width:0; height:0; margin-top:-1px; text-align:center; white-space:nowrap; overflow:hidden; text-decoration:none;}
#skip a:focus, #skip a:active{position:relative; top:0; left:0;  width:100%; height:40px; line-height:40px; font-size:18px; font-weight:bold; color:#fff; background-color:#333; z-index:100;}

/* easing */
.e-i2{-webkit-transition:all .2s ease-in;
-moz-transition:all .2s ease-in;
-o-transition:all .2s ease-in;
transition:all .2s ease-in;}
.e-i3{-webkit-transition:all .3s ease-in;
-moz-transition:all .3s ease-in;
-o-transition:all .3s ease-in;
transition:all .3s ease-in;}
.e-o2{-webkit-transition:all .2s ease-out;
-moz-transition:all .2s ease-out;
-o-transition:all .2s ease-out;
transition:all .2s ease-out;}
.e-o3{-webkit-transition:all .3s ease-out;
-moz-transition:all .3s ease-out;
-o-transition:all .3s ease-out;
transition:all .3s ease-out;}
.e-c3{
-webkit-transition:all .3s cubic-bezier(.96, .04, .10, 1.01);
-moz-transition:all .3s cubic-bezier(.96, .04, .10, 1.01);
-o-transition:all .3s cubic-bezier(.96, .04, .10, 1.01);
transition:all .3s cubic-bezier(.96, .04, .10, 1.01);}

.code{width:1000px; margin:0 auto; font-size:15px; color:#333; line-height:24px;}
.sampleWrap{margin-top:30px;}
.sampleWrap>p{padding-bottom:10px; font-size:16px; color:#222; font-weight:600;}
.CodeMirror-wrap{border:1px solid #ddd;}
.CodeMirror{height:100%;}
.CodeMirror *{font-size:14px; line-height:1.8;}
</style>
	</head>

	<body>
		<div id="wrap">
			<dl id="skip">
				<dt class="hide">메뉴 바로가기</dt>
				<dd><a href="#self">주메뉴 바로가기</a></dd>
				<dd><a href="#self">컨텐츠 바로가기</a></dd>
			</dl>

			<div class="code"></div>
			<div class="sampleWrap">
				<script type="text/javascript">
				//<![CDATA[
				$(document).ready(function(){
					project.init();
				});

				var project = {
					init : function(){
						project.common();
						project.main();
						project.sub();
					},

					common : function(){
						genHTML(); // codemirror 실행
					},

					main : function(){
						// IIFE 즉각적으로 실행하는 function
						var test_ = function(name){
							var text = "즉각실행";
							$(".code").append(name + "즉각실행" + "<br />");
						}("alert");

						(function(name){
							var $a,
							greet = "AOA_";

							$(".code").append(greet + name + "<br />");
							 
							for($a = 0; $a<=5; $a++){
								$(".code").append(greet + name + $a + "<br />");
							}
						}("설현"));

						var user = function(){
							var password = "1234";

							return {
								get : function(){
									return password;
								},
								set : function(newPassword){
									password = newPassword;
								}
							};
						}();

						$(".code").append(user.password + "<br />");
						$(".code").append(user.get() + "<br />");
						user.set(5678);
						$(".code").append(user.get() + "<br />");

						//javascript closure
						//클로저는 독립적인 (자유) 변수를 가리키는 함수이다. 또는, 클로저 안에 정의된 함수는 만들어진 환경을 ‘기억한다’.
						//흔히 함수 내에서 함수를 정의하고 사용하면 클로저라고 한다. 하지만 대개는 정의한 함수를 리턴하고 사용은 바깥에서 하게된다.
						//- Closure는 function 안에 function이 있게 되면 기본적으로 생성된다.
						//- Closure는 scope chain이 생성됐을 때의 변수 값들을 보존하고 기억하게 된다.
						//- 함수가 메모리에서 없어질 때까지 따라다니게 된다.
						//- 같은 모양의 함수이더라도 다른 closure를 가지고 있을 수 있다.
						//- 함수가 다른 곳에서 사용되더라도 처음에 생성되었던 scope chain이 끝가지 따라다니게 된다.
						//- 다른 곳에서 사용되는 대표적인 경우: 함수를 리턴하여 사용, 다른 함수의 인자로 넘겨줘서 사용, 콜백으로 사용
						//- Closure는 아주 쉽다!
						//- 출처: http://unikys.tistory.com/309 [All-round programmer]

						function getClosure(){
							var text = "variable 1"
							return function(){
								return text;	
							};
						}
						
						var test = getClosure();
						$(".code").append(test() + "<br />");
						
						//
						function foo() {
							if (true) {
								var color = '블루!!!!';
							}
							$(".code").append(color + "<br />"); // blue
						}
						foo();
						
						//
						var x = "내가 나와야함!!";
						
						function test(){
							var x = "나도..나와야하느데...";
							test_1();
						}

						function test_1(){
							$(".code").append(x + "<br />");
						}

						test();
						test_1();

						//
						var base = "Hello ";
						function sayHelloTo(name){
							var text = base + name;
							return function(){
								$(".code").append(text + "<br />");
							};
						}
						
						var hello1 = sayHelloTo("설현"),
						hello2 = sayHelloTo("박수진");

						hello1();
						hello2();

						//클로저를 통한 은닉화
						//Prototype을 통한 객체 - 클로저를 사용 전(변수 _name 외부접근 가능)
						function Hello(name){
							this._name = name;
						}
						
						Hello.prototype.say = function(){
							$(".code").append("hello, " + this._name + "<br />");
						}
						//console.log("hello, " + this._name);

						var hello_1 = new Hello("오연서");
						var hello_2 = new Hello("태연");
						
						hello_1.say();
						hello_2.say();
						hello_1._name = "서현";
						hello_1.say();

						//클로저를 사용 후(변수 _name 외부접근 불가능)
						function hello(name){
							var _name = name;
							return function(){
								$(".code").append("hello, " + name + "<br />");
							};
						}
						//console.log("hello, " + _name);

						var hello_1_ = hello("소녀시대");

						hello_1_();

						hello_1_ = null;
						
						//반복문 클로저
						var i;
						for(i = 0; i<10; i++){
							//console.log(i);
							setTimeout(function(){
								$(".code").append("반복" + i + "<br />");
							}, 100);
						}

						var a;
						for(a = 0; a<10; a++){
							(function(j){
								//console.log(j);
								setTimeout(function(){
									$(".code").append("반복" + j + "<br />");
								}, 100);
							})(a);
						}
						
						function sum(base){
							var inClosure = base;
							return function(adder){
								$(".code").append(inClosure + adder + "<br />");
							};
						}

						var fiveAdder = sum(5);
						fiveAdder(3);

						var threeAdder = sum(3);
						threeAdder(2);

					},

					sub : function(){
						
					}
				}

				//]]>
				</script>
			</div><!-- // sampleWrap -->

			<script type="text/javascript">
			function genHTML(valArr){
				$('.sampleWrap').each(function(i){
					var temp = valArr || $(this).html();
					var $src = $('<div class="htmlsrc" ></div>');
					$(this).after($src);	
					var myCodeMirror = CodeMirror($src[0], {
						value: valArr ? temp[i] : temp,
						mode: 'htmlmixed',
						lineNumbers: !$(this).is('.inline'),
						readOnly: true,
						styleActiveLine: false,
						autoClearEmptyLines:true,
						lineWrapping: true,
						matchBrackets: true
					});
					if($(this).hasClass('mine')) $(this).hide(); // 클래스 mine 이 붙으면 기존에 있던 텍스트는 삭제
				});
			}
			</script>
		</div><!-- end : id : wrap -->
	</body>
</html>
